{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <title>Masterkart - الگوی HTML تجارت الکترونیک چند منظوره</title>
    <meta name="keywords"
          content="Bootstrap 5.x, ecommerce, farming, food market, grocery market, grocery shop, grocery store, grocery supper market, multi vendor, organic food, supermarket, supermarket grocery">
    <meta name="description" content="Multipurpose eCommerce HTML Template">
    <meta name="author" content="Pilarest">

    <!-- site Favicon -->
    <link rel="icon" href="{% static 'assets/img/favicon/favicon.png' %}" sizes="32x32">

    <!-- css Icon Font -->
    <link rel="stylesheet" href="{% static 'assets/css/vendor/msicons.min.css' %}">

    <!-- css All Plugins Files -->
    <link rel="stylesheet" href="{% static 'assets/css/plugins/animate.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/bootstrap-select.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/owl.theme.default.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/swiper-bundle.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/slick.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/plugins/nouislider.css' %}">

    <!-- Main Style -->
    <link rel="stylesheet" id="main_style" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/responsive.css' %}">
    <link rel="stylesheet" class="color-css" href="{% static 'assets/css/color-01.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>

<body>
<!-- Loader -->
<div id="ms-overlay">
    <div class="loader"></div>
</div>

<!-- Header start  -->
{% include '../extentions/header.html' with categories=categories_map is_active=is_active medic_notification=medic_notification shop_notification=shop_notification %}
<!-- Header End  -->

<!-- <div class="absolute h-40 bg-linear-to-l from-[#2b4a83] to-[#21254e] w-full"> -->

    <div class="border w-3/5 !mt-8 m-auto rounded-t-lg bg-white">
        <div class="flex justify-between items-center p-4">
            <div>
                <p class="m-0">تیکت ها</p>
                <span class="text-xs">برای ارسال تیکت به کارشناسان امور مشتریانِ فرم زیر را کامل کنید.</span>
            </div>
            <div>
            
            </div>
        </div>
        <div class="px-4">
            <form action="">
                <input type="text" class="w-full border !h-11 rounded-lg px-2 placeholder:text-sm" placeholder="عنوان تیکت"/>
                <div class="mt-4 grid grid-cols-2">
                    <div class="dropdown-us" id="dropdown">
                        <div class="dropdown-toggle-us" id="dropdownToggle">موضوع را انتخاب کنید</div>
                        <div class="dropdown-menu-us" id="dropdownMenu">
                            <div class="dropdown-item-us">گزینه اول</div>
                            <div class="dropdown-item-us">گزینه دوم</div>
                            <div class="dropdown-item-us">گزینه سوم</div>
                        </div>
                    </div>

                    <div class="flex m-auto items-center gap-2">
                        <p class="m-0 text-sm">اولویت بندی</p>
                        <div id="importanceOptions" class="border grid grid-cols-3 text-center p-1 rounded-2xl">
                            <p class="option m-0 text-sm rounded-2xl px-2 py-1 bg-gray-300 cursor-pointer">معمولی</p>
                            <p class="option m-0 text-sm rounded-2xl px-2 py-1 cursor-pointer">مهم</p>
                            <p class="option m-0 text-sm rounded-2xl px-2 py-1 cursor-pointer">بسیار مهم</p>                            
                        </div>
                    </div>
                </div>
                <textarea name="" id="exampleFormControlTextarea1" class="w-full border !mt-6 rounded-lg h-48 resize-none"></textarea>

                <div class="grid grid-cols-3 gap-2 mt-6 mb-4">
                    <div class="upload-container py-2 w-full col-span-2" onclick="document.getElementById('fileInput').click()">
                        <!-- <img src="https://img.icons8.com/ios-filled/50/image--v1.png" class="upload-icon" alt="upload"> -->
                        <!-- <div class="upload-title">تصویر جواز پزشک</div> -->
                        <div class="flex">
                            <div class="upload-subtitle">انتخاب فایل</div>
                            <p class="file-name !truncate !w-28 !mt-0 !mb-0 mr-2" id="fileName"></p>
                        </div>
                        <input type="file" id="fileInput" class="upload-input" accept="image/*">
                    </div>   

                    <button type="submit" id="submitBtn" class="!text-white !text-sm !rounded-lg !bg-[#439878]">ارسال پاسخ</button>
                </div> 
            </form>
        </div>
    </div>

<!-- </div> -->


<!-- Footer Start -->
{% include '../extentions/footer.html' %}
<!-- Footer Area End -->

<!-- Features sidebar  -->
<div class="ms-features-sidebar-overlay"></div>
<div class="ms-features-sidebar">
    <div class="tool-title">
        <h3>تنظیمات</h3>
    </div>
    <a href="#" class="ms-tools-sidebar-toggle open-features">
        <img alt="icon" src="{% static 'assets/img/icons/setting.svg' %}" class="svg_img">
    </a>
    <div class="ms-features-block">
        <div class="ms-features-title">رنگ‌ها</div>
        <ul class="bg-panel ms-change-color">
            <li class="active" data-color="01">
                <a href="javascript:void(0)" class="colorcode1"></a>
            </li>
            <li data-color="02">
                <a href="javascript:void(0)" class="colorcode2"></a>
            </li>
            <li data-color="03">
                <a href="javascript:void(0)" class="colorcode3"></a>
            </li>
            <li data-color="04">
                <a href="javascript:void(0)" class="colorcode4"></a>
            </li>
            <li data-color="05">
                <a href="javascript:void(0)" class="colorcode5"></a>
            </li>
            <li data-color="06">
                <a href="javascript:void(0)" class="colorcode6"></a>
            </li>
            <li data-color="07" class="">
                <a href="javascript:void(0)" class="colorcode7"></a>
            </li>
            <li data-color="08">
                <a href="javascript:void(0)" class="colorcode8"></a>
            </li>
            <li data-color="09">
                <a href="javascript:void(0)" class="colorcode9"></a>
            </li>
        </ul>
    </div>
    <div class="ms-features-block">
        <div class="ms-tools-sidebar-content">
            <div class="ms-features-title">حالت پس رمینه</div>
            <div class="ms-change-mode active" id="ms-change-mode">
                <div class="ms-mode-switch">
                    <div class="ms-mode-btn">انتخاب</div>
                    <div class="ms-mode-on">روشن</div>
                    <div class="ms-mode-off">خاموش</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Plugins JS -->
<script src="{% static 'assets/js/plugins/jquery-3.5.1.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/popper.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/bootstrap-select.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/fontawesome.js' %}"></script>
<script src="{% static 'assets/js/plugins/owl.carousel.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/swiper-bundle.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/infiniteslidev2.js' %}"></script>
<script src="{% static 'assets/js/plugins/jquery.zoom.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/slick.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/nouislider.js' %}"></script>

<!-- Main Js -->
<script src="{% static 'assets/js/main.js' %}"></script>

    <script>
         const toggle = document.getElementById('dropdownToggle');
        const menu = document.getElementById('dropdownMenu');
        const items = document.querySelectorAll('.dropdown-item-us');

        toggle.addEventListener('click', () => {
            menu.classList.toggle('active');
        });

        items.forEach(item => {
            item.addEventListener('click', () => {
            toggle.textContent = item.textContent;
            menu.classList.remove('active');
            });
        });

        // بستن منو با کلیک بیرون از منو
        document.addEventListener('click', (event) => {
            if (!document.getElementById('dropdown').contains(event.target)) {
            menu.classList.remove('active');
            }
        });

        document.querySelectorAll('.dropdown-item-us').forEach(item => {
            item.addEventListener('click', function () {
            const dropdownToggle = document.querySelector('.dropdown-toggle-us');
            dropdownToggle.textContent = this.textContent.trim();
            });
        });

        const options = document.querySelectorAll('#importanceOptions .option');

        options.forEach(option => {
            option.addEventListener('click', () => {
                options.forEach(opt => {
                    opt.classList.remove('bg-gray-300');
                });
                option.classList.add('bg-gray-300');
            });
        });

        // uploader

        const fileInput = document.getElementById('fileInput');
        const fileNameDisplay = document.getElementById('fileName');

        fileInput.addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
            // const fileSizeKB = file.size / 2048;
            // if (fileSizeKB > 2000) {
            //     fileNameDisplay.textContent = "حجم فایل بیشتر از ۲۰۰ کیلوبایت است!";
            //     fileNameDisplay.classList.remove("valid");
            // } else {
                fileNameDisplay.textContent = "" + file.name;
                fileNameDisplay.classList.add("valid");
            // }
            } else {
            fileNameDisplay.textContent = "فایلی انتخاب نشده";
            fileNameDisplay.classList.remove("valid");
            }
        });   
        
        // 

        document.getElementById('submitBtn').addEventListener('click', function (e) {
            e.preventDefault();
            const selectedDropdown = document.querySelector('.dropdown-toggle-us').textContent.trim();
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            const fname = document.getElementById('fname').value.trim();
            const message = document.getElementById('exampleFormControlTextarea1').value.trim();

            console.log("گزینه انتخاب‌شده:", selectedDropdown);
            console.log("نام:", fname);
            console.log("پیغام:", message);
            console.log("نام فایل:", file);
        });
    </script>
</body>

</html>